<div class="section">
  <h2>Current Quest Info</h2>
  
  <div class="section-content">
    <? if (props) { ?>
      <ul>
        <li><strong>Quest name:</strong>
          <?= props.text ?>
        </li>
        <li>
          <strong>Drops:</strong>
          <ul>
            <li><strong>Gold:</strong>
              <?= props.drop.gp ?>
            </li>
            <li><strong>Exp:</strong>
              <?= props.drop.exp ?>
            </li>
            <li>
              <strong>Items:</strong>
              <ul>
                <? for(let i = 0; i < props.drop.items.length; i++) { ?>
                <li>
                  <?= props.drop.items[i].text ?>
                </li>
                <? } ?>
              </ul>
            </li>
          </ul>
        </li>
        <li><strong>Quest leader:</strong>
          <?= props.leaderProfileName ?>
        </li>
        <li><strong>Status:</strong>
          <?= props.status ?>
        </li>
        <li><strong>Participating members:</strong>
          <?= props.participantCount ?> /
          <?= props.partyMemberCount ?>
        </li>
        <li><strong>Participation percentage:</strong>
          <?= props.participationPercentage ?>%
        </li>
      </ul>
      <div>
        <? if ("api/v1/start" in props._links) { ?>
          <button
            class="button"
            id="current-quest-start-button"
            onclick="forceStartQuest('<?= props._links[`api/v1/start`] ?>', 'current-quest-start-button')"
          >
            Start this quest
          </button>
        <? } else { ?>
          <i>no actions available</i>
        <? } ?>
      </div>
    <? } else { ?>
      <i>No active quest</i>
    <? } ?>
  </div>
</div>
